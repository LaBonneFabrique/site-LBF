{"changed":true,"filter":false,"title":"identificationModal.js","tooltip":"/imports/ui/components/identificationModal.js","value":"import React from 'react';\nimport { Row, Col, FormGroup, ControlLabel, FormControl, Button, ButtonToolbar, Form } from 'react-bootstrap';\nimport {Modal} from 'react-bootstrap';\nimport FontAwesome from 'react-fontawesome';\nimport { Bert } from 'meteor/themeteorchef:bert';\nimport {handleLogin} from '../../modules/login';\n\nexport class Identification extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  \n    componentDidMount() {\n    handleLogin({ component: this});\n  }\n  \n  componentDidUpdate() {\n    handleLogin({ component: this });\n  }\n  \n  handleSubmit(event) {\n    event.preventDefault();\n  }\n  \n  identificationService(dataSocialLogin) {\n    const options = {};\n     Meteor[ dataSocialLogin ]( options, ( error ) => {\n      if ( error ) {\n        Bert.alert( error.message, 'danger' );\n      } else {\n        Bert.alert( 'Vous êtes maintenant identifié.', 'success' );\n      }\n     });\n  }\n  \n  render() {\n    return (\n    <Modal.Body>\n    <p>Pour vous connecter, entrez tout d'abord votre adresse mail :</p>\n    \n    <form  onSubmit={ this.handleSubmit } ref=\"login\" className=\"login\">\n    \n        <Row className=\"spaceTop\">\n      <Col componentClass={ControlLabel} sm={3} smOffset={1}>\n        Adresse Mail\n      </Col>\n      <Col sm={6}>\n        <FormControl\n              type=\"email\"\n              ref=\"emailAddress\"\n              name=\"emailAddress\"\n              placeholder=\"Adresse mail\"\n            />\n      </Col>\n    </Row>\n        <hr />\n    <p>Choisissez le service pour vous connecter</p>\n    <Row>\n    <Col smOffset={2} sm={8}>\n     <ButtonToolbar bsSize=\"large\">\n      <Button bsSize=\"large\" onClick={this.identificationService.bind(this, \"loginWithFacebook\")}><FontAwesome name=\"facebook\" /> Facebook</Button>\n      <Button bsSize=\"large\" onClick={this.identificationService.bind(this, \"loginWithTwitter\")}><FontAwesome name=\"twitter\" /> Twitter</Button>\n      <Button bsSize=\"large\" onClick={this.identificationService.bind(this, \"loginWithGithub\")}><FontAwesome name=\"github\" /> Github</Button>\n     </ButtonToolbar>\n     </Col></Row>\n    <hr />\n    <p>Ou identifiez-vous en entrant votre mot de passe</p>\n\n    <Row  className=\"spaceTop\">\n      <Col componentClass={ControlLabel} sm={3} smOffset={1}>\n        Mot de passe\n      </Col>\n      <Col sm={6}>\n        <FormControl\n              type=\"password\"\n              ref=\"password\"\n              name=\"password\"\n              placeholder=\"Mot de passe\"\n            />\n      </Col>\n    </Row>\n<Row ><Col smOffset={6} sm={5} className=\"pull-right\"> <a href=\"oubliMDP\"><b>Mot de passe oublié ?</b></a></Col></Row>\n    <Row className=\"spaceTop\">\n      <Col smOffset={4} sm={7}>\n        <Button type=\"submit\" >\n          Connexion\n        </Button>\n      </Col>\n    </Row>\n  </form>\n\n     </Modal.Body>\n      );\n  }\n}","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":49,"column":18},"end":{"row":49,"column":18},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1467291797845}